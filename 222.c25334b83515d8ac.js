"use strict";(self.webpackChunknewport_erp=self.webpackChunknewport_erp||[]).push([[222],{5222:(W,s,i)=>{i.r(s),i.d(s,{VentaBajaReporteUsuarioVerModule:()=>X});var d=i(5412),p=i(6895),r=i(7155),f=i(7392),_=i(4006),V=i(529),j=i(5766),U=i(1588),h=i(7800),e=i(4650),l=i(8996),B=i(9479);function Z(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"#"),e.qZA())}function b(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.index,o=e.oxw();e.xp6(1),e.Oqu(t+o.sumaIndex)}}function v(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"C\xf3digo Activo"),e.qZA())}function R(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_baja_elemento?null:t.informe_baja_elemento.codigo_activo)||"S/C")}}function A(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Marca"),e.qZA())}function T(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_baja_elemento?null:t.informe_baja_elemento.marca)||"-")}}function C(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Modelo"),e.qZA())}function x(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_baja_elemento?null:t.informe_baja_elemento.modelo)||"-")}}function I(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Serie"),e.qZA())}function D(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_baja_elemento?null:t.informe_baja_elemento.numero_serie)||"-")}}function Y(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Fecha Venta"),e.qZA())}function P(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_venta?null:t.informe_venta.fecha_creacion)||"-")}}function N(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Codificaci\xf3n"),e.qZA())}function q(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_baja_elemento||null==t.informe_baja_elemento.informe_baja.sitio||null==t.informe_baja_elemento.informe_baja.sitio.empresa?null:t.informe_baja_elemento.informe_baja.sitio.empresa.nombre_corto)+"-"+(null==t.informe_baja_elemento||null==t.informe_baja_elemento.informe_baja.departamento||null==t.informe_baja_elemento.informe_baja.departamento.area?null:t.informe_baja_elemento.informe_baja.departamento.area.nombre_corto)+"-"+(null==t.informe_baja_elemento||null==t.informe_baja_elemento.informe_baja.sitio?null:t.informe_baja_elemento.informe_baja.sitio.nombre_corto)+"-"+(null==t.informe_baja_elemento?null:t.informe_baja_elemento.informe_baja.fecha_creacion)+"-"+(null==t.informe_baja_elemento?null:t.informe_baja_elemento.informe_baja.id)||"-")}}function S(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Equipo"),e.qZA())}function w(a,n){if(1&a&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu((null==t.informe_baja_elemento?null:t.informe_baja_elemento.equipo)||"-")}}function O(a,n){1&a&&(e.TgZ(0,"th",29),e._uU(1,"Estado Venta"),e.qZA())}function y(a,n){1&a&&e._UZ(0,"mat-icon",35)}function E(a,n){1&a&&e._UZ(0,"mat-icon",35)}function Q(a,n){1&a&&e._UZ(0,"mat-icon",36)}function L(a,n){1&a&&e._UZ(0,"mat-icon",37)}function k(a,n){1&a&&e._UZ(0,"mat-icon",38)}function H(a,n){if(1&a&&(e.TgZ(0,"td",30),e.YNc(1,y,1,0,"mat-icon",31),e.YNc(2,E,1,0,"mat-icon",31),e.YNc(3,Q,1,0,"mat-icon",32),e.YNc(4,L,1,0,"mat-icon",33),e.YNc(5,k,1,0,"mat-icon",34),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf","APROBADO_GG"===t.estado),e.xp6(1),e.Q6J("ngIf","APROBADO"===t.estado),e.xp6(1),e.Q6J("ngIf","VALIDADO"===t.estado),e.xp6(1),e.Q6J("ngIf","PENDIENTE"===t.estado),e.xp6(1),e.Q6J("ngIf","RECHAZADO"===t.estado)}}function J(a,n){1&a&&e._UZ(0,"tr",39)}function M(a,n){1&a&&e._UZ(0,"tr",40)}let g=(()=>{class a{constructor(t,o,u,c){this.modal=t,this.router=o,this.activatedRoute=u,this.ventaElementoGetService=c,this.tablaCabecera=["id","codigo","marca","modelo","numeroSerie","fechaVenta","informe","equipo","estado"],this.informeVentaId=0,this.puedeAdjuntar=!!(0,U.Gs)(h.w3,h.P5),this.sumaIndex=1,this.paginaActual=1,this.totalRegistros=30,this.primeraPagina=1,this.segundaPagina=2,this.terceraPagina=3,this.totalPaginas=0,this.urlDireccionar=""}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.informeVentaId=parseInt(t.idInformeVenta),this.urlDireccionar="main/venta-baja/usuario/ver/"+this.informeVentaId+"/",this.paginaActual=parseInt(t.pagina),this.paginaActual>3&&(this.primeraPagina=this.paginaActual,this.segundaPagina=this.primeraPagina+1,this.terceraPagina=this.segundaPagina+1),this.cargarTablaInformeVenta(this.informeVentaId)})}cargarTablaInformeVenta(t){this.validacionPaginado(),this.ventaElementoGetService.ObtenerListaInformeVentaElementoPorInformeVentaPorPaginas(t,this.paginaActual,this.totalRegistros).then(o=>{o.data.lista_informe_venta_elemento.length>0?(this.totalPaginas=o.data.total_de_paginas,this.dataSource=new r.by(o.data.lista_informe_venta_elemento)):(this.paginaActual=this.paginaActual-1,this.router.navigate([this.urlDireccionar+this.paginaActual.toString()]))})}dialogVentaBajaAdjuntar(){this.modal.open(j.P,{data:{idInformeVenta:this.informeVentaId}})}dialogVentaBajaEditar(t){this.router.navigate(["main/venta-baja/editar/",t])}exportarExcel(){this.ventaElementoGetService.obtenerExcelInformeVentaElementoPorInformeVenta(this.informeVentaId).then(t=>t.blob()).then(t=>{window.open(URL.createObjectURL(t),"_blank")}).catch(t=>{console.log(t)})}manageExcelFile(t,o){const c=[];c.push(t);const K=window.URL.createObjectURL(new Blob(c,{type:"application/vnd.ms-excel"})),m=document.createElement("a");m.href=K,m.setAttribute("download",o),document.body.appendChild(m),m.click()}validacionPaginado(){this.sumaIndex=this.paginaActual>1?30*(this.paginaActual-1)+1:this.paginaActual}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d.uw),e.Y36(l.F0),e.Y36(l.gz),e.Y36(B.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ne-adm-gact-venta-baja-reporte-usuario-ver"]],decls:71,vars:19,consts:[[1,"contenedor-pagina"],[1,"contenedor-pagina-cabecera"],[1,"contenedor"],[1,"contenedor-pagina-cabecera-derecha"],[1,"btn-principal",3,"click"],[1,"contenedor-pagina-cuerpo"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigo"],["matColumnDef","marca"],["matColumnDef","modelo"],["matColumnDef","numeroSerie"],["matColumnDef","fechaVenta"],["matColumnDef","informe"],["matColumnDef","equipo"],["matColumnDef","estado"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","elemento-fila-para-collapse",4,"matRowDef","matRowDefColumns"],[1,"contenedor-pagina-pie"],[1,"form-row"],[1,"col-md-2"],[3,"href"],["aria-hidden","false","fontIcon","skip_previous"],["aria-hidden","false","fontIcon","navigate_before"],[1,"col-md-4"],["aria-hidden","false","fontIcon","navigate_next"],["aria-hidden","false","fontIcon","skip_next"],["mat-header-cell",""],["mat-cell",""],["aria-hidden","false","fontIcon","check_circle","class","icono-aprobado",4,"ngIf"],["aria-hidden","false","fontIcon","check_circle","class","icono-validado",4,"ngIf"],["aria-hidden","false","fontIcon","circle","class","icono-pendiente",4,"ngIf"],["aria-hidden","false","fontIcon","cancel","class","icono-rechazado",4,"ngIf"],["aria-hidden","false","fontIcon","check_circle",1,"icono-aprobado"],["aria-hidden","false","fontIcon","check_circle",1,"icono-validado"],["aria-hidden","false","fontIcon","circle",1,"icono-pendiente"],["aria-hidden","false","fontIcon","cancel",1,"icono-rechazado"],["mat-header-row",""],["mat-row","",1,"elemento-fila-para-collapse"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.exportarExcel()}),e._uU(5," Exportar Excel "),e.qZA()()()(),e.TgZ(6,"div",5)(7,"div",2)(8,"table",6),e.ynx(9,7),e.YNc(10,Z,2,0,"th",8),e.YNc(11,b,2,1,"td",9),e.BQk(),e.ynx(12,10),e.YNc(13,v,2,0,"th",8),e.YNc(14,R,2,1,"td",9),e.BQk(),e.ynx(15,11),e.YNc(16,A,2,0,"th",8),e.YNc(17,T,2,1,"td",9),e.BQk(),e.ynx(18,12),e.YNc(19,C,2,0,"th",8),e.YNc(20,x,2,1,"td",9),e.BQk(),e.ynx(21,13),e.YNc(22,I,2,0,"th",8),e.YNc(23,D,2,1,"td",9),e.BQk(),e.ynx(24,14),e.YNc(25,Y,2,0,"th",8),e.YNc(26,P,2,1,"td",9),e.BQk(),e.ynx(27,15),e.YNc(28,N,2,0,"th",8),e.YNc(29,q,2,1,"td",9),e.BQk(),e.ynx(30,16),e.YNc(31,S,2,0,"th",8),e.YNc(32,w,2,1,"td",9),e.BQk(),e.ynx(33,17),e.YNc(34,O,2,0,"th",8),e.YNc(35,H,6,5,"td",9),e.BQk(),e.YNc(36,J,1,0,"tr",18),e.YNc(37,M,1,0,"tr",19),e.qZA()()(),e.TgZ(38,"div",20)(39,"div",2)(40,"div",21)(41,"div",22)(42,"a",23),e._UZ(43,"mat-icon",24)(44,"BR"),e._uU(45,"Primero"),e.qZA()(),e.TgZ(46,"div",22)(47,"a",23),e._UZ(48,"mat-icon",25)(49,"BR"),e._uU(50,"Anterior"),e.qZA()(),e.TgZ(51,"div",26)(52,"h3")(53,"a",23),e._uU(54),e.qZA(),e._uU(55," - "),e.TgZ(56,"a",23),e._uU(57),e.qZA(),e._uU(58," - "),e.TgZ(59,"a",23),e._uU(60),e.qZA()()(),e.TgZ(61,"div",22)(62,"a",23),e._UZ(63,"mat-icon",27)(64,"BR"),e._uU(65,"Siguiente"),e.qZA()(),e.TgZ(66,"div",22)(67,"a",23),e._UZ(68,"mat-icon",28)(69,"BR"),e._uU(70,"\xdaltimo"),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Q6J("dataSource",o.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",o.tablaCabecera),e.xp6(1),e.Q6J("matRowDefColumns",o.tablaCabecera),e.xp6(5),e.MGl("href","",o.urlDireccionar,"1",e.LSH),e.xp6(5),e.hYB("href","",o.urlDireccionar,"",o.paginaActual<2?1:o.paginaActual-1,"",e.LSH),e.xp6(6),e.hYB("href","",o.urlDireccionar,"",o.primeraPagina,"",e.LSH),e.xp6(1),e.Oqu(o.primeraPagina),e.xp6(2),e.hYB("href","",o.urlDireccionar,"",o.segundaPagina,"",e.LSH),e.xp6(1),e.Oqu(o.segundaPagina),e.xp6(2),e.hYB("href","",o.urlDireccionar,"",o.terceraPagina,"",e.LSH),e.xp6(1),e.Oqu(o.terceraPagina),e.xp6(2),e.hYB("href","",o.urlDireccionar,"",o.paginaActual>=o.totalPaginas?o.totalPaginas:o.paginaActual+1,"",e.LSH),e.xp6(5),e.hYB("href","",o.urlDireccionar,"",o.totalPaginas,"",e.LSH))},dependencies:[p.O5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,f.Hw]}),a})();const F=[{path:"",component:g}];let G=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[l.Bz.forChild(F),l.Bz]}),a})();var $=i(577),z=i(164);let X=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a,bootstrap:[g]}),a.\u0275inj=e.cJS({imports:[V.JF,p.ez,_.u5,G,_.UX,r.p0,f.Ps,d.Is,$.VentaBajaCrearModule,z.k]}),a})()}}]);