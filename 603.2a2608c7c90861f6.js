"use strict";(self.webpackChunknewport_erp=self.webpackChunknewport_erp||[]).push([[603],{2603:(gi,v,l)=>{l.r(v),l.d(v,{UsuarioListaModule:()=>mi});var m=l(5412),p=l(6895),c=l(7155),b=l(7392),r=l(4006),q=l(529),I=l(2652),Z=l(1588),h=l(4891),u=l(7800),i=l(4650),x=l(3793),U=l(9562),R=l(2228),E=l(7394),A=l(10),T=l(5404),S=l(8224),N=l(455);function V(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",50),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw();return i.KtG(d.SelecionarRol(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function k(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",51),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw();return i.KtG(d.SelecionarArea(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function J(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",51),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw();return i.KtG(d.SelecionarDepartamento(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function Y(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",51),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw(2);return i.KtG(d.SelecionarEmpresa(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function w(e,o){if(1&e&&(i.TgZ(0,"div",6)(1,"div",9)(2,"label"),i._uU(3,"Empresa :"),i.qZA()(),i.TgZ(4,"div",43)(5,"div",32)(6,"div",25)(7,"div",33)(8,"span",34),i._uU(9),i.qZA()(),i._UZ(10,"mat-icon",28),i.qZA(),i.TgZ(11,"div",52)(12,"ul",36),i.YNc(13,Y,2,2,"li",37),i.qZA()()()()()),2&e){const a=i.oxw();i.xp6(9),i.Oqu(a.empresaSeleccionada),i.xp6(4),i.Q6J("ngForOf",a.listaEmpresa)}}function D(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",51),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw(2);return i.KtG(d.SelecionarSitio(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function L(e,o){if(1&e&&(i.TgZ(0,"div",6)(1,"div",53)(2,"label"),i._uU(3,"Sitio :"),i.qZA()(),i.TgZ(4,"div",54)(5,"div",32)(6,"div",25)(7,"div",33)(8,"span",34),i._uU(9),i.qZA()(),i._UZ(10,"mat-icon",28),i.qZA(),i.TgZ(11,"div",52)(12,"ul",36),i.YNc(13,D,2,2,"li",37),i.qZA()()()()()),2&e){const a=i.oxw();i.xp6(9),i.Oqu(a.sitioSeleccionado),i.xp6(4),i.Q6J("ngForOf",a.listaSitio)}}let O=(()=>{class e{constructor(a,t,s,n,d,g,f,pi,hi,_i,bi,P){this.modal=a,this.modal2=t,this.usuarioPostService=s,this.usuarioGetService=n,this.rolGetService=d,this.areaGetService=g,this.departamentoGetService=f,this.formBuilder=pi,this.empresaGetService=hi,this.sitioGetService=_i,this.dialogRef=bi,this.data=P,this.listaRol=[],this.listaArea=[],this.listaDepartamento=[],this.listaEmpresa=[],this.listaSitio=[],this.rolSeleccionado="Selecione Documento",this.sitioSeleccionado="<Seleccione Sitio>",this.empresaSeleccionada="<Seleccione>",this.areaSeleccionada="",this.departamentoSeleccionado="",this.mostrarItemSeleccionado=!1,this.isCollapsed=!0,this.usuario={},this.idUsuario=0,this.slideEstado=!1,this.sesion=(0,Z.l3)(),this.recibirRechazosCreados="NO",this.recibirParaValidar="NO",this.recibirParaAprobar1="NO",this.recibirParaAprobar2="NO",this.recibirParaValidarVenta="NO",this.recibirParaSeguridadVenta="NO",this.estadoRecibirRechazosCreados=!1,this.estadoRecibirParaValidar=!1,this.estadoRecibirParaAprobar1=!1,this.estadoRecibirParaAprobar2=!1,this.estadoRecibirParaValidarVenta=!1,this.estadoRecibirParaSeguridadVenta=!1,this.empresaId=0,this.areaId=0,this.sitioId=0,this.departamentoId=0,this.rolId=0,this.idUsuario=P.idUsuario}ngOnInit(){this.construirFormulario(),this.cargarRoles(),this.cargarEmpresas(),this.cargarAreas(),this.cargarFormulario()}construirFormulario(){this.formulario=this.formBuilder.group({usuario:new r.NI({value:"",disabled:!1},r.kI.required),clave:new r.NI({value:"0000",disabled:!0},r.kI.required),nombre:new r.NI({value:"",disabled:!1},r.kI.required),apellidoPaterno:new r.NI({value:"",disabled:!1},r.kI.required),apellidoMaterno:new r.NI({value:"",disabled:!1},r.kI.required),correo:new r.NI({value:"",disabled:!1},r.kI.required),estado:new r.NI({value:"",disabled:!1},r.kI.required)})}cargarFormulario(){this.usuarioGetService.obtenerUsuarioPorId(this.idUsuario).then(a=>{this.usuario=a.data.usuario||[],this.slideEstado="ACTIVO"===this.usuario.estado,this.estadoRecibirRechazosCreados="SI"===this.usuario.recibir_creacion,this.estadoRecibirParaValidar="SI"===this.usuario.recibir_validacion,this.estadoRecibirParaAprobar1="SI"===this.usuario.recibir_aprobacion1,this.estadoRecibirParaAprobar2="SI"===this.usuario.recibir_aprobacion2,this.estadoRecibirParaValidarVenta="SI"===this.usuario.recibir_validacion_venta,this.estadoRecibirParaSeguridadVenta="SI"===this.usuario.recibir_seguridad_venta,this.recibirRechazosCreados=this.usuario.recibir_creacion,this.recibirParaValidar=this.usuario.recibir_validacion,this.recibirParaAprobar1=this.usuario.recibir_aprobacion1,this.recibirParaAprobar2=this.usuario.recibir_aprobacion2,this.recibirParaValidarVenta=this.usuario.recibir_validacion_venta,this.recibirParaSeguridadVenta=this.usuario.recibir_seguridad_venta,this.formulario.patchValue({usuario:this.usuario.usuario,nombre:this.usuario.nombre,clave:this.usuario.clave,apellidoPaterno:this.usuario.apellido_paterno,apellidoMaterno:this.usuario.apellido_materno,correo:this.usuario.correo,estado:this.usuario.estado,rol:this.usuario.rol.nombre}),this.usuario.sitio&&(this.empresaSeleccionada=this.usuario.sitio.empresa.nombre,this.sitioSeleccionado=this.usuario.sitio.nombre,this.sitioId=this.usuario.sitio.id,this.empresaId=this.usuario.sitio.empresa.id,this.cargarSitioPorEmpresa(this.usuario.sitio.empresa.id)),this.departamentoId=this.usuario.departamento.id,this.rolId=this.usuario.rol.id,this.rolSeleccionado=this.usuario.rol.nombre,this.areaId=this.usuario.departamento.area.id,this.areaSeleccionada=this.usuario.departamento.area.nombre,this.departamentoSeleccionado=this.usuario.departamento.nombre,this.departamentoId=this.usuario.departamento.id})}SelecionarRol(a){this.rolSeleccionado=a.nombre,this.rolId=a.id}SelecionarArea(a){this.areaSeleccionada=a.nombre,this.areaId=a.id,this.departamentoSeleccionado="<Seleccione Departamento>",this.departamentoId=this.usuario.departamento.id,this.cargarDepartamentos(a.id)}SelecionarDepartamento(a){this.departamentoSeleccionado=a.nombre,this.departamentoId=a.id}SelecionarEmpresa(a){this.empresaSeleccionada=a.nombre,this.empresaId=a.id,this.sitioSeleccionado="<Seleccione Sitio>",this.cargarSitioPorEmpresa(a.id)}SelecionarSitio(a){this.sitioSeleccionado=a.nombre,this.sitioId=a.id}cargarRoles(){this.rolGetService.obtenerListaRol().then(a=>{this.listaRol=a.data.lista_rol||[],a.data.lista_rol[0].id>0&&(this.rolSeleccionado=a.data.lista_rol[0].nombre,this.rolId=a.data.lista_rol[0].id)})}cargarAreas(){this.areaGetService.obtenerAreas().then(a=>{this.listaArea=a.data.lista_areas||[],a.data.lista_areas[0].id>0&&(this.areaSeleccionada=a.data.lista_areas[0].nombre,this.areaId=a.data.lista_areas[0].id)})}cargarDepartamentos(a){this.departamentoGetService.obtenerDepartamentosPorArea(a).then(t=>{this.listaDepartamento=t.data.lista_departamentos||[],t.data.lista_departamentos[0].id>0&&(this.departamentoSeleccionado=t.data.lista_departamentos[0].nombre,this.departamentoId=t.data.lista_departamentos[0].id)})}cargarEmpresas(){this.empresaGetService.obtenerEmpresas().then(a=>{this.listaEmpresa=a.data.lista_empresas||[]})}cargarSitioPorEmpresa(a){this.sitioGetService.obtenerSitiosPorEmpresa(a).then(t=>{this.listaSitio=t.data.lista_sitios||[]})}cambioEstado(){!0===this.slideEstado?(this.slideEstado=!1,this.usuario.estado="INACTIVO"):(this.slideEstado=!0,this.usuario.estado="ACTIVO")}cambiarEstadoRecibirParaAprobar2(){this.estadoRecibirParaAprobar2?(this.estadoRecibirParaAprobar2=!1,this.recibirParaAprobar2="NO"):(this.estadoRecibirParaAprobar2=!0,this.recibirParaAprobar2="SI")}cambiarEstadoRecibirParaAprobar1(){this.estadoRecibirParaAprobar1?(this.estadoRecibirParaAprobar1=!1,this.recibirParaAprobar1="NO"):(this.estadoRecibirParaAprobar1=!0,this.recibirParaAprobar1="SI")}cambiarEstadoRecibirParaValidar(){this.estadoRecibirParaValidar?(this.estadoRecibirParaValidar=!1,this.recibirParaValidar="NO"):(this.estadoRecibirParaValidar=!0,this.recibirParaValidar="SI")}cambiarEstadoRecibirRechazosCreados(){this.estadoRecibirRechazosCreados?(this.estadoRecibirRechazosCreados=!1,this.recibirRechazosCreados="NO"):(this.estadoRecibirRechazosCreados=!0,this.recibirRechazosCreados="SI")}cambiarEstadoRecibirParaValidarVenta(){this.estadoRecibirParaValidarVenta?(this.estadoRecibirParaValidarVenta=!1,this.recibirParaValidarVenta="NO"):(this.estadoRecibirParaValidarVenta=!0,this.recibirParaValidarVenta="SI")}cambiarEstadoRecibirParaSeguridadVenta(){this.estadoRecibirParaSeguridadVenta?(this.estadoRecibirParaSeguridadVenta=!1,this.recibirParaSeguridadVenta="NO"):(this.estadoRecibirParaSeguridadVenta=!0,this.recibirParaSeguridadVenta="SI")}cerrar(){this.modal.open(h._,{data:{titulo:u.in,accion:u.x9+u.Sb,opciones:2},disableClose:!0}).afterClosed().subscribe(a=>{a&&this.dialogRef.close(1)})}EditarUsuario(a){this.modal.open(h._,{data:{titulo:u.in,accion:u.x9+u.nm,opciones:2},disableClose:!0}).afterClosed().subscribe(t=>{t&&this.usuarioPostService.editarUsuario({id:this.idUsuario,usuario:a.usuario,nombre:a.nombre,apellido_paterno:a.apellidoPaterno,apellido_materno:a.apellidoMaterno,correo:a.correo,estado:this.usuario.estado,rol_id:this.rolId,departamento_id:this.departamentoId,usuario_id_edicion:this.sesion.usuario.id,sitio_id:this.sitioId,recibir_validacion:this.recibirParaValidar,recibir_creacion:this.recibirRechazosCreados,recibir_aprobacion1:this.recibirParaAprobar1,recibir_aprobacion2:this.recibirParaAprobar2,recibir_validacion_venta:this.recibirParaValidarVenta,recibir_seguridad_venta:this.recibirParaSeguridadVenta}).then(n=>{"0"===n.codigo?this.modal.open(h._,{data:{titulo:u.in,accion:u.H1,opciones:1},disableClose:!0}).afterClosed().subscribe(d=>{this.modal.closeAll()}):this.modal2.open(h._,{data:{titulo:u.in,accion:n.mensaje,opciones:1},disableClose:!0})})})}}return e.\u0275fac=function(a){return new(a||e)(i.Y36(m.uw),i.Y36(m.uw),i.Y36(x.d),i.Y36(U.R),i.Y36(R.s),i.Y36(E.a),i.Y36(A.j),i.Y36(r.qu),i.Y36(T.K),i.Y36(S.s),i.Y36(m.so),i.Y36(m.WI))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ne-usu-usuario-editar"]],decls:169,vars:23,consts:[[1,"contenedor-modal-form"],[1,"contenedor-modal-form-cabecera"],[3,"formGroup"],[1,"contenedor-modal-form-cuerpo-2"],[1,"centrar-contenido"],[1,"contenedor-modal-form-cuerpo-2-izquierda"],[1,"form-row"],[1,"form-group","col-md-12"],[1,"label-bold"],[1,"form-group","col-md-5"],[1,"input"],["type","text","formControlName","usuario"],[1,"input-con-icono"],["aria-hidden","false","fontIcon","person"],[1,"form-group","col-md-2"],["type","text","formControlName","clave","readonly","true"],["aria-hidden","false","fontIcon","lock"],[1,"form-group","col-md-4"],["type","text","formControlName","nombre"],["type","text","formControlName","apellidoPaterno"],["type","text","formControlName","apellidoMaterno"],[1,"form-group","col-md-6"],["type","text","formControlName","correo"],["aria-hidden","false","fontIcon","mail",1,"icono-grande-a-estandar"],[1,"multiselect-sobrepuesto","width-16vw"],["tabindex","0","aria-placeholder","Select a control type","aria-expanded","false","aria-multiselectable","false","role","combobox",1,"multiselect-wrapper"],[1,"multiselect-sobrepuesto-single-label"],[1,"multiselect-sobrepuesto-single-label-text"],["aria-hidden","false","fontIcon","arrow_drop_down",1,"mostrar"],["tabindex","-1",1,"multiselect-sobrepuesto-arriba"],["id","multiselect-options","role","listbox",1,"multiselect-sobrepuesto-options"],["class","multiselect-sobrepuesto-option",3,"value","click",4,"ngFor","ngForOf"],[1,"multiselect"],[1,"multiselect-single-label"],[1,"multiselect-single-label-text"],["tabindex","-1",1,"multiselect-arriba"],["id","multiselect-options","role","listbox",1,"multiselect-options"],["class","multiselect-option",3,"value","click",4,"ngFor","ngForOf"],[1,"contenedor-modal-form-cuerpo-2-derecha","vw20"],["class","form-row",4,"ngIf"],[1,"form-group","col-md-8"],[1,"fondoInput"],[3,"checked","click"],[1,"form-group","col-md-7"],[3,"checked","change"],[1,"contenedor-modal-form-pie"],[1,"contenedor-modal-form-pie-izquierda"],[1,"btn-principal",3,"click"],[1,"contenedor-modal-form-pie-derecha"],["cdkFocusInitial","",1,"btn-principal","btn-cancelar",3,"click"],[1,"multiselect-sobrepuesto-option",3,"value","click"],[1,"multiselect-option",3,"value","click"],["tabindex","-1",1,"multiselect-dropdown"],[1,"form-group","col-md-3"],[1,"form-group","col-md-9"]],template:function(a,t){1&a&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3"),i._uU(3,"Crear usuario"),i.qZA()(),i.TgZ(4,"form",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),i._uU(11,"Datos:"),i.qZA()()(),i.TgZ(12,"div",6)(13,"div",9)(14,"label"),i._uU(15,"Usuario"),i.qZA(),i.TgZ(16,"div",10),i._UZ(17,"input",11),i.TgZ(18,"label",12),i._UZ(19,"mat-icon",13),i.qZA()()(),i._UZ(20,"div",14),i.TgZ(21,"div",9)(22,"label"),i._uU(23,"Contrase\xf1a"),i.qZA(),i.TgZ(24,"div",10),i._UZ(25,"input",15),i.TgZ(26,"label",12),i._UZ(27,"mat-icon",16),i.qZA()()()(),i.TgZ(28,"div",6)(29,"div",17)(30,"label"),i._uU(31,"Nombre"),i.qZA(),i.TgZ(32,"div",10),i._UZ(33,"input",18),i.TgZ(34,"label",12),i._UZ(35,"mat-icon",13),i.qZA()()(),i.TgZ(36,"div",17)(37,"label"),i._uU(38,"Apellido paterno"),i.qZA(),i.TgZ(39,"div",10),i._UZ(40,"input",19),i.TgZ(41,"label",12),i._UZ(42,"mat-icon",13),i.qZA()()(),i.TgZ(43,"div",17)(44,"label"),i._uU(45,"Apellido materno"),i.qZA(),i.TgZ(46,"div",10),i._UZ(47,"input",20),i.TgZ(48,"label",12),i._UZ(49,"mat-icon",13),i.qZA()()()(),i.TgZ(50,"div",6)(51,"div",7)(52,"label",8),i._uU(53,"Perfil laboral:"),i.qZA()()(),i.TgZ(54,"div",6)(55,"div",21)(56,"label"),i._uU(57,"Correo"),i.qZA(),i.TgZ(58,"div",10),i._UZ(59,"input",22),i.TgZ(60,"label",12),i._UZ(61,"mat-icon",23),i.qZA()()(),i.TgZ(62,"div",21)(63,"label"),i._uU(64,"Rol"),i.qZA(),i.TgZ(65,"div",24)(66,"div",25)(67,"div",26)(68,"span",27),i._uU(69),i.qZA()(),i._UZ(70,"mat-icon",28),i.qZA(),i.TgZ(71,"div",29)(72,"ul",30),i.YNc(73,V,2,2,"li",31),i.qZA()()()()(),i.TgZ(74,"div",6)(75,"div",21)(76,"label"),i._uU(77,"Area"),i.qZA(),i.TgZ(78,"div",32)(79,"div",25)(80,"div",33)(81,"span",34),i._uU(82),i.qZA()(),i._UZ(83,"mat-icon",28),i.qZA(),i.TgZ(84,"div",35)(85,"ul",36),i.YNc(86,k,2,2,"li",37),i.qZA()()()(),i.TgZ(87,"div",21)(88,"label"),i._uU(89,"Departamento"),i.qZA(),i.TgZ(90,"div",32)(91,"div",25)(92,"div",33)(93,"span",34),i._uU(94),i.qZA()(),i._UZ(95,"mat-icon",28),i.qZA(),i.TgZ(96,"div",35)(97,"ul",36),i.YNc(98,J,2,2,"li",37),i.qZA()()()()()(),i.TgZ(99,"div",38)(100,"div",6)(101,"div",7)(102,"label",8),i._uU(103,"Datos para recibir correos:"),i.qZA()()(),i.YNc(104,w,14,2,"div",39),i.YNc(105,L,14,2,"div",39),i.TgZ(106,"div",6)(107,"div",40)(108,"label"),i._uU(109,"Notificaci\xf3n de Creador :"),i.qZA()(),i.TgZ(110,"div",17)(111,"div",41)(112,"mat-slide-toggle",42),i.NdJ("click",function(){return t.cambiarEstadoRecibirRechazosCreados()}),i.qZA(),i._uU(113),i.qZA()()(),i.TgZ(114,"div",6)(115,"div",40)(116,"label"),i._uU(117,"Notificaci\xf3n de Validador :"),i.qZA()(),i.TgZ(118,"div",17)(119,"div")(120,"mat-slide-toggle",42),i.NdJ("click",function(){return t.cambiarEstadoRecibirParaValidar()}),i.qZA(),i._uU(121),i.qZA()()(),i.TgZ(122,"div",6)(123,"div",40)(124,"label"),i._uU(125,"Notificaci\xf3n de Aprobador 1 :"),i.qZA()(),i.TgZ(126,"div",17)(127,"div",41)(128,"mat-slide-toggle",42),i.NdJ("click",function(){return t.cambiarEstadoRecibirParaAprobar1()}),i.qZA(),i._uU(129),i.qZA()()(),i.TgZ(130,"div",6)(131,"div",40)(132,"label"),i._uU(133,"Notificaci\xf3n de Aprobador 2 :"),i.qZA()(),i.TgZ(134,"div",17)(135,"div",41)(136,"mat-slide-toggle",42),i.NdJ("click",function(){return t.cambiarEstadoRecibirParaAprobar2()}),i.qZA(),i._uU(137),i.qZA()()(),i.TgZ(138,"div",6)(139,"div",40)(140,"label"),i._uU(141,"Notificaci\xf3n de Venta:"),i.qZA()(),i.TgZ(142,"div",17)(143,"div",41)(144,"mat-slide-toggle",42),i.NdJ("click",function(){return t.cambiarEstadoRecibirParaValidarVenta()}),i.qZA(),i._uU(145),i.qZA()()(),i.TgZ(146,"div",6)(147,"div",40)(148,"label"),i._uU(149,"Notificaci\xf3n de Seguridad Venta:"),i.qZA()(),i.TgZ(150,"div",17)(151,"div",41)(152,"mat-slide-toggle",42),i.NdJ("click",function(){return t.cambiarEstadoRecibirParaSeguridadVenta()}),i.qZA(),i._uU(153),i.qZA()()(),i.TgZ(154,"div",6)(155,"div",43)(156,"label"),i._uU(157,"Estado:"),i.qZA()(),i.TgZ(158,"div",9)(159,"div",41)(160,"mat-slide-toggle",44),i.NdJ("change",function(){return t.cambioEstado()}),i.qZA(),i._uU(161),i.qZA()()()()()()(),i.TgZ(162,"div",45)(163,"div",46)(164,"button",47),i.NdJ("click",function(){return t.EditarUsuario(t.formulario.value)}),i._uU(165," Guardar "),i.qZA()(),i.TgZ(166,"div",48)(167,"button",49),i.NdJ("click",function(){return t.cerrar()}),i._uU(168," Cancelar "),i.qZA()()()()),2&a&&(i.xp6(4),i.Q6J("formGroup",t.formulario),i.xp6(65),i.Oqu(t.rolSeleccionado),i.xp6(4),i.Q6J("ngForOf",t.listaRol),i.xp6(9),i.Oqu(t.areaSeleccionada),i.xp6(4),i.Q6J("ngForOf",t.listaArea),i.xp6(8),i.Oqu(t.departamentoSeleccionado),i.xp6(4),i.Q6J("ngForOf",t.listaDepartamento),i.xp6(6),i.Q6J("ngIf",2===t.areaId),i.xp6(1),i.Q6J("ngIf",2===t.areaId),i.xp6(7),i.Q6J("checked",t.estadoRecibirRechazosCreados),i.xp6(1),i.hij(" ",t.recibirRechazosCreados," "),i.xp6(7),i.Q6J("checked",t.estadoRecibirParaValidar),i.xp6(1),i.hij(" ",t.recibirParaValidar," "),i.xp6(7),i.Q6J("checked",t.estadoRecibirParaAprobar1),i.xp6(1),i.hij(" ",t.recibirParaAprobar1," "),i.xp6(7),i.Q6J("checked",t.estadoRecibirParaAprobar2),i.xp6(1),i.hij(" ",t.recibirParaAprobar2," "),i.xp6(7),i.Q6J("checked",t.estadoRecibirParaValidarVenta),i.xp6(1),i.hij(" ",t.recibirParaValidarVenta," "),i.xp6(7),i.Q6J("checked",t.estadoRecibirParaSeguridadVenta),i.xp6(1),i.hij(" ",t.recibirParaSeguridadVenta," "),i.xp6(7),i.Q6J("checked",t.slideEstado),i.xp6(1),i.hij(" ",t.usuario.estado," "))},dependencies:[p.sg,p.O5,b.Hw,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,N.Rr]}),e})();var _=l(8996);function F(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",39),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw();return i.KtG(d.SelecionarDepartamento(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function Q(e,o){1&e&&(i.TgZ(0,"div",40)(1,"label"),i._uU(2,"Empresa :"),i.qZA()())}function j(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",39),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw(2);return i.KtG(d.SelecionarEmpresa(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function G(e,o){if(1&e&&(i.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"span",9),i._uU(5),i.qZA()(),i._UZ(6,"mat-icon",10),i.qZA(),i.TgZ(7,"div",11)(8,"ul",12),i.YNc(9,j,2,2,"li",13),i.qZA()()()()),2&e){const a=i.oxw();i.xp6(5),i.Oqu(a.empresaSeleccionada),i.xp6(4),i.Q6J("ngForOf",a.listaEmpresa)}}function y(e,o){1&e&&(i.TgZ(0,"div",40)(1,"label"),i._uU(2,"Sitio :"),i.qZA()())}function B(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"li",39),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw(2);return i.KtG(d.SelecionarSitio(n))}),i._uU(1),i.qZA()}if(2&e){const a=o.$implicit;i.Q6J("value",a.id),i.xp6(1),i.hij("",a.nombre," ")}}function z(e,o){if(1&e&&(i.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"span",9),i._uU(5),i.qZA()(),i._UZ(6,"mat-icon",10),i.qZA(),i.TgZ(7,"div",11)(8,"ul",12),i.YNc(9,B,2,2,"li",13),i.qZA()()()()),2&e){const a=i.oxw();i.xp6(5),i.Oqu(a.sitioSeleccionado),i.xp6(4),i.Q6J("ngForOf",a.listaSitio)}}function H(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"#"),i.qZA())}function M(e,o){if(1&e&&(i.TgZ(0,"td",42),i._uU(1),i.qZA()),2&e){const a=o.dataIndex,t=i.oxw();i.xp6(1),i.Oqu(a+t.sumaIndex)}}function $(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"Usuario"),i.qZA())}function K(e,o){if(1&e&&(i.TgZ(0,"td",42),i._uU(1),i.qZA()),2&e){const a=o.$implicit;i.xp6(1),i.Oqu(a.usuario||"-")}}function X(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"Nombre"),i.qZA())}function W(e,o){if(1&e&&(i.TgZ(0,"td",42),i._uU(1),i.qZA()),2&e){const a=o.$implicit;i.xp6(1),i.Oqu(a.nombre||"-")}}function ii(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"Apellidos"),i.qZA())}function ai(e,o){if(1&e&&(i.TgZ(0,"td",42),i._uU(1),i.qZA()),2&e){const a=o.$implicit;i.xp6(1),i.hij("",a.apellido_paterno+" "+a.apellido_materno||"-"," ")}}function ei(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"E-Mail"),i.qZA())}function ti(e,o){if(1&e&&(i.TgZ(0,"td",42),i._uU(1),i.qZA()),2&e){const a=o.$implicit;i.xp6(1),i.Oqu(a.correo||"-")}}function oi(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"Rol"),i.qZA())}function ri(e,o){if(1&e&&(i.TgZ(0,"td",42),i._uU(1),i.qZA()),2&e){const a=o.$implicit;i.xp6(1),i.Oqu((null==a.rol?null:a.rol.nombre)||"-")}}function si(e,o){1&e&&(i.TgZ(0,"th",41),i._uU(1,"Acciones"),i.qZA())}function ni(e,o){if(1&e){const a=i.EpF();i.TgZ(0,"td",42)(1,"mat-icon",43),i.NdJ("click",function(){const n=i.CHM(a).$implicit,d=i.oxw();return i.KtG(d.dialogVentanaUsuarioEditar(n.id))}),i.qZA()()}}function li(e,o){1&e&&i._UZ(0,"tr",44)}function di(e,o){1&e&&i._UZ(0,"tr",45)}let C=(()=>{class e{constructor(a,t,s,n,d,g,f){this.usuarioGetService=a,this.modal=t,this.router=s,this.sitioGetService=n,this.departamentoGetService=d,this.empresaGetService=g,this.activatedRoute=f,this.tablaCabecera=["id","usuario","nombre","apellidos","correo","rol","acciones"],this.sesion=(0,Z.l3)(),this.dataSource=new c.by,this.showComboDepartamento=!1,this.departamentoSeleccionado="Todos",this.listaDepartamento=[],this.departamentoId=0,this.showComboEmpresa=!1,this.empresaSeleccionada="",this.listaEmpresa=[],this.empresaId=0,this.showComboSitio=!1,this.sitioSeleccionado="",this.listaSitio=[],this.sitioId=0,this.sumaIndex=1,this.paginaActual=1,this.totalRegistros=0,this.primeraPagina=1,this.segundaPagina=2,this.terceraPagina=3,this.totalPaginas=0,this.urlDireccionar="main/usuario-lista/"}ngOnInit(){this.cargarDepartamentos(0),this.cargarEmpresas(),this.activatedRoute.params.subscribe(a=>{this.paginaActual=parseInt(a.pagina),this.paginaActual>3&&(this.primeraPagina=this.paginaActual,this.segundaPagina=this.primeraPagina+1,this.terceraPagina=this.segundaPagina+1),this.cargarTablaUsuario()})}cargarTablaUsuario(){this.usuarioGetService.obtenerListaUsuarioPorPaginas(this.paginaActual).then(a=>{a.data.lista_usuario.length>0?(this.totalPaginas=a.data.total_de_paginas,this.totalRegistros=a.data.lista_usuario.length,this.validacionPaginado(),this.dataSource=new c.by(a.data.lista_usuario)):(this.paginaActual=this.paginaActual-1,0===this.paginaActual&&(this.paginaActual=1),this.router.navigate(["main/usuario-lista/"+this.paginaActual.toString()]))})}cargarTablaUsuarioPorDepartamento(a){this.usuarioGetService.obtenerListaUsuarioPorDepartamento(a).then(t=>{this.dataSource=new c.by,this.dataSource=new c.by(t.data.lista_usuario)})}cargarTablaUsuarioPorSitio(a){this.usuarioGetService.obtenerListaUsuarioPorSitio(a).then(t=>{this.dataSource=new c.by,this.dataSource=new c.by(t.data.lista_usuario)})}cargarDepartamentos(a){this.departamentoGetService.obtenerDepartamentosPorArea(a).then(t=>{this.listaDepartamento=t.data.lista_departamentos||[]})}SelecionarDepartamento(a){this.departamentoSeleccionado=a.nombre,this.departamentoId=a.id,this.cargarTablaUsuarioPorDepartamento(this.departamentoId)}cargarEmpresas(){this.empresaGetService.obtenerEmpresas().then(a=>{this.listaEmpresa=a.data.lista_empresas||[]})}SelecionarEmpresa(a){this.empresaSeleccionada=a.nombre,this.empresaId=a.id,this.cargarSitioPorEmpresa(a.id),this.sitioSeleccionado="<Seleccione Sitio>",this.sitioId=0}SelecionarSitio(a){this.sitioSeleccionado=a.nombre,this.sitioId=a.id,this.cargarTablaUsuarioPorSitio(this.sitioId)}cargarSitioPorEmpresa(a){this.sitioGetService.obtenerSitiosPorEmpresa(a).then(t=>{this.listaSitio=t.data.lista_sitios||[]})}dialogVentanaUsuarioEditar(a){a!=this.sesion.usuario.id?this.modal.open(O,{data:{idUsuario:a},disableClose:!0}).afterClosed().subscribe(t=>{1!=t&&(this.cargarTablaUsuario(),this.departamentoSeleccionado="Todos",this.departamentoId=0)}):this.modal.open(h._,{data:{titulo:u.in,accion:"No puede editar su propio usuario",opciones:1},disableClose:!0})}dialogVentanaUsuarioCrear(){this.modal.open(I.m,{disableClose:!0}).afterClosed().subscribe(a=>{1!=a&&(this.cargarTablaUsuario(),this.departamentoSeleccionado="Todos",this.departamentoId=0)})}SelecionarDepartamentoTodos(){this.departamentoSeleccionado="Todos",this.departamentoId=0,this.cargarTablaUsuario()}validacionPaginado(){this.sumaIndex=this.paginaActual>1?30*(this.paginaActual-1)+1:this.paginaActual}}return e.\u0275fac=function(a){return new(a||e)(i.Y36(U.R),i.Y36(m.uw),i.Y36(_.F0),i.Y36(S.s),i.Y36(A.j),i.Y36(T.K),i.Y36(_.gz))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ne-usu-usuario-lista"]],decls:85,vars:25,consts:[[1,"contenedor-pagina"],[1,"contenedor-pagina-cabecera"],[1,"contenedor"],[1,"form-row"],[1,"col-md-1.5"],[1,"col-md-2"],[1,"multiselect"],["tabindex","0","aria-placeholder","Select a control type","aria-expanded","false","aria-multiselectable","false","role","combobox",1,"multiselect-wrapper","colorFondo"],[1,"multiselect-single-label"],[1,"multiselect-single-label-text"],["aria-hidden","false","fontIcon","arrow_drop_down",1,"mostrar"],["tabindex","-1",1,"multiselect-dropdown"],["id","multiselect-options","role","listbox",1,"multiselect-options"],["class","multiselect-option",3,"value","click",4,"ngFor","ngForOf"],[1,"multiselect-option",3,"click"],["class","col-md-1",4,"ngIf"],["class","col-md-2",4,"ngIf"],[1,"contenedor-pagina-cabecera-derecha-solo-boton"],[1,"btn-principal","paddinng-izquierdo-15","paddinng-derecho-15",3,"click"],[1,"contenedor-pagina-cuerpo"],["mat-table","","multiTemplateDataRows","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","tabla-titulo",4,"matHeaderCellDef"],["mat-cell","","class","tabla-valor",4,"matCellDef"],["matColumnDef","usuario"],["matColumnDef","nombre"],["matColumnDef","apellidos"],["matColumnDef","correo"],["matColumnDef","rol"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","elemento-fila-para-collapse",4,"matRowDef","matRowDefColumns"],[1,"contenedor-pagina-pie"],[3,"href"],["aria-hidden","false","fontIcon","skip_previous"],["aria-hidden","false","fontIcon","navigate_before"],[1,"col-md-4"],["aria-hidden","false","fontIcon","navigate_next"],["aria-hidden","false","fontIcon","skip_next"],[1,"multiselect-option",3,"value","click"],[1,"col-md-1"],["mat-header-cell","",1,"tabla-titulo"],["mat-cell","",1,"tabla-valor"],["aria-hidden","false","fontIcon","edit",3,"click"],["mat-header-row",""],["mat-row","",1,"elemento-fila-para-collapse"]],template:function(a,t){1&a&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label"),i._uU(6,"Departamento :"),i.qZA()(),i.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"span",9),i._uU(12),i.qZA()(),i._UZ(13,"mat-icon",10),i.qZA(),i.TgZ(14,"div",11)(15,"ul",12),i.YNc(16,F,2,2,"li",13),i.TgZ(17,"li",14),i.NdJ("click",function(){return t.SelecionarDepartamentoTodos()}),i._uU(18,"Todos "),i.qZA()()()()(),i.YNc(19,Q,3,0,"div",15),i.YNc(20,G,10,2,"div",16),i.YNc(21,y,3,0,"div",15),i.YNc(22,z,10,2,"div",16),i.qZA(),i.TgZ(23,"div",17)(24,"button",18),i.NdJ("click",function(){return t.dialogVentanaUsuarioCrear()}),i._uU(25," Crear "),i.qZA()()()(),i.TgZ(26,"div",19)(27,"div",2)(28,"table",20),i.ynx(29,21),i.YNc(30,H,2,0,"th",22),i.YNc(31,M,2,1,"td",23),i.BQk(),i.ynx(32,24),i.YNc(33,$,2,0,"th",22),i.YNc(34,K,2,1,"td",23),i.BQk(),i.ynx(35,25),i.YNc(36,X,2,0,"th",22),i.YNc(37,W,2,1,"td",23),i.BQk(),i.ynx(38,26),i.YNc(39,ii,2,0,"th",22),i.YNc(40,ai,2,1,"td",23),i.BQk(),i.ynx(41,27),i.YNc(42,ei,2,0,"th",22),i.YNc(43,ti,2,1,"td",23),i.BQk(),i.ynx(44,28),i.YNc(45,oi,2,0,"th",22),i.YNc(46,ri,2,1,"td",23),i.BQk(),i.ynx(47,29),i.YNc(48,si,2,0,"th",22),i.YNc(49,ni,2,0,"td",23),i.BQk(),i.YNc(50,li,1,0,"tr",30),i.YNc(51,di,1,0,"tr",31),i.qZA()()(),i.TgZ(52,"div",32)(53,"div",2)(54,"div",3)(55,"div",5)(56,"a",33),i._UZ(57,"mat-icon",34)(58,"BR"),i._uU(59,"Primero"),i.qZA()(),i.TgZ(60,"div",5)(61,"a",33),i._UZ(62,"mat-icon",35)(63,"BR"),i._uU(64,"Anterior"),i.qZA()(),i.TgZ(65,"div",36)(66,"h3")(67,"a",33),i._uU(68),i.qZA(),i._uU(69," - "),i.TgZ(70,"a",33),i._uU(71),i.qZA(),i._uU(72," - "),i.TgZ(73,"a",33),i._uU(74),i.qZA()()(),i.TgZ(75,"div",5)(76,"a",33),i._UZ(77,"mat-icon",37)(78,"BR"),i._uU(79,"Siguiente"),i.qZA()(),i.TgZ(80,"div",5)(81,"a",33),i._UZ(82,"mat-icon",38)(83,"BR"),i._uU(84,"\xdaltimo"),i.qZA()()()()()()),2&a&&(i.xp6(12),i.Oqu(t.departamentoSeleccionado),i.xp6(4),i.Q6J("ngForOf",t.listaDepartamento),i.xp6(3),i.Q6J("ngIf",2===t.departamentoId),i.xp6(1),i.Q6J("ngIf",2===t.departamentoId),i.xp6(1),i.Q6J("ngIf",2===t.departamentoId),i.xp6(1),i.Q6J("ngIf",2===t.departamentoId),i.xp6(6),i.Q6J("dataSource",t.dataSource),i.xp6(22),i.Q6J("matHeaderRowDef",t.tablaCabecera),i.xp6(1),i.Q6J("matRowDefColumns",t.tablaCabecera),i.xp6(5),i.MGl("href","",t.urlDireccionar,"1",i.LSH),i.xp6(5),i.hYB("href","",t.urlDireccionar,"",t.paginaActual<2?1:t.paginaActual-1,"",i.LSH),i.xp6(6),i.hYB("href","",t.urlDireccionar,"",t.primeraPagina,"",i.LSH),i.xp6(1),i.Oqu(t.primeraPagina),i.xp6(2),i.hYB("href","",t.urlDireccionar,"",t.segundaPagina,"",i.LSH),i.xp6(1),i.Oqu(t.segundaPagina),i.xp6(2),i.hYB("href","",t.urlDireccionar,"",t.terceraPagina,"",i.LSH),i.xp6(1),i.Oqu(t.terceraPagina),i.xp6(2),i.hYB("href","",t.urlDireccionar,"",t.paginaActual>=t.totalPaginas?t.totalPaginas:t.paginaActual+1,"",i.LSH),i.xp6(5),i.hYB("href","",t.urlDireccionar,"",t.totalPaginas,"",i.LSH))},dependencies:[p.sg,p.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,b.Hw]}),e})();const ci=[{path:"",component:C}];let ui=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[_.Bz.forChild(ci),_.Bz]}),e})(),mi=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[C]}),e.\u0275inj=i.cJS({imports:[p.ez,r.u5,r.UX,ui,c.p0,b.Ps,q.JF,m.Is,r.u5,r.UX]}),e})()}}]);